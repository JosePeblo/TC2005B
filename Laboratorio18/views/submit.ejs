<%- include('includes/head.ejs') %>

<script defer src="/scripts/recipeUpload.js"></script>
<section class="section">

    <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/">Recetas Foráneas</a></li>
            <li class="is-active"><a href="">Creador de recetas</a></li>
        </ul>
    </nav>

    <h1 class="title">Creador de recetas</h1>
    <form id="form" action="/crear" method="post" enctype="multipart/form-data" autocomplete="off">
        <input type="hidden" name="_csrf" value="<%= csrfToken %>" >
        <!-- First ingredient -->
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Ingredientes</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <p class="control is-expanded">
                        <input id="ingredients" class="input ingredient-field" type="text" placeholder="Ingrediente" name="ingredients">               
                    </p>
                </div>
                <div class="field">
                    <p class="control is-expanded">
                        <input id="amounts" class="input amount-field" type="text" placeholder="Cantidad">               
                    </p>
                </div>
                <div class="field">
                    <p class="control is-expanded">
                        <a class="button is-primary" style="display: none;"> +</a>
                    </p>
                </div>
            </div>
        </div>
        <!-- Extra ingredients -->
        <div id="extra-values" style="margin-bottom: 1em;">
            <div class="field is-horizontal">
                <div class="field-label"></div>
                <div class="field-body">
                    <div class="field">
                        <p class="control is-expanded">
                            <input class="input ingredient-field" type="text" placeholder="Ingrediente">               
                        </p>
                    </div>
                    <div class="field">
                        <p class="control is-expanded">
                            <input class="input amount-field" type="text" placeholder="Cantidad">               
                        </p>
                    </div>
                    <div class="field">
                        <p class="control is-expanded">
                            <a class="button is-primary" onclick="addIngredientField(this)">+</a>
                        </p>
                    </div>
                </div>
            </div>

        </div>
        
        <!-- Recipe name -->
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Nombre de la receta</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control is-small">
                        <input type="text" class="input" placeholder="Pasta..." name="name">
                    </div>
                </div>
            </div>
        </div>

        <!-- Description -->
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Descripción</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control is-small">
                        <input type="text" class="input" placeholder="Pasta my rica" name="description">
                    </div>
                </div>
            </div>
        </div>

        <!-- Recipe -->
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label">Receta</label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control">
                        <textarea id="" class="textarea" name="recipe"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <!-- File -->
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label"></label>
            </div>
            <div class="field-body">
                <div class="file has-name">
                    <label class="file-label">
                        <input id="image" class="file-input" type="file" name="image">
                        <span class="file-cta">
                        <span class="file-label">
                            Sube un archivo
                        </span>
                        </span>
                        <span id="file-name" class="file-name">
                        ...
                        </span>
                    </label>
                    </div>
            </div>

        </div>

        <!-- Submit -->
        <div class="field is-horizontal">
            <div class="field-label is-normal">
                <label class="label"></label>
            </div>
            <div class="field-body">
                <div class="field">
                    <div class="control">
                        <input type="submit" value="Enviar" class="button is-primary">
                    </div>
                </div>
            </div>
        </div>
    </form>

</section>

<%- include('includes/foot.ejs') %>